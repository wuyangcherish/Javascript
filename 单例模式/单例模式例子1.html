<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>单例模式的例子</title>
<script type="text/javascript">
    /*
        应用场景：其实单例一般用在系统间的通信上面协调上
    */
    //创建单例
    var SingleInfo = {};
    SingleInfo.singleUser = (function(){
        //
        var instance;
        
        //初始化：
        function userInfo(args) {
            console.log(args)
            var args = args || {};
            this.name = args.name || "游客";
            this.age  = args.age || "年龄未知";
            this.sex = args.sex || "性别未知";
            
            return {
                username: this.name,
                age: this.age
            }
            
        }
        
        return {
            getInstance: function(args) {
                if(instance === undefined) {  //切记是undefined而不是 'unsefined'
                    instance = new userInfo(args);
                    debugger;
                    console.log(instance)
                }
                return instance;
             }
        }
        
    })();
    
    console.log(SingleInfo.singleUser.getInstance().username);
    console.log(SingleInfo.singleUser.getInstance({"name": "wuyang"}).username)
</script>
</head>
<body>
    
</body>
</html>